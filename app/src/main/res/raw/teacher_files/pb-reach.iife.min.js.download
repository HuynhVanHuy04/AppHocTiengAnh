window.polarbyte||(polarbyte={}),polarbyte.reach="0.16.0";var polarbytereach=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)};function t(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var r={exports:{}},o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var i=new Uint8Array(16);r.exports=function(){return o(i),i}}else{var a=new Array(16);r.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}for(var c=r.exports,u=[],s=0;s<256;++s)u[s]=(s+256).toString(16).substr(1);var l,d,f=function(e,t){var n=t||0,r=u;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},v=c,m=f,p=0,g=0;var h=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||l,a=void 0!==e.clockseq?e.clockseq:d;if(null==i||null==a){var c=v();null==i&&(i=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=d=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:g+1,f=u-p+(s-g)/1e4;if(f<0&&void 0===e.clockseq&&(a=a+1&16383),(f<0||u>p)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,g=s,d=a;var h=(1e4*(268435455&(u+=122192928e5))+s)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;var y=u/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var w=0;w<6;++w)o[r+w]=i[w];return t||m(o)},y=c,w=f;var b=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||y)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||w(o)},E=h,T=b,k=T;k.v1=E,k.v4=T;var S=k;
/*!
   * Core functionality for Snowplow JavaScript trackers v3.24.3 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */function O(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t,n,r,o,i,a,c=function(e){return decodeURIComponent(e.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},u=0,s=0,l="",d=[];if(!e)return e;e+="";do{t=(a=I.indexOf(e.charAt(u++))<<18|I.indexOf(e.charAt(u++))<<12|(o=I.indexOf(e.charAt(u++)))<<6|(i=I.indexOf(e.charAt(u++))))>>16&255,n=a>>8&255,r=255&a,d[s++]=64===o?String.fromCharCode(t):64===i?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(u<e.length);return l=d.join(""),c(l.replace(/\0+$/,""))}(e.replace(/-/g,"+").replace(/_/g,"/"))}function C(e){if(!e)return e;var t=function(e){var t,n,r,o,i,a=0,c=0,u=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(i=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,u[c++]=I.charAt(t)+I.charAt(n)+I.charAt(r)+I.charAt(o)}while(a<e.length);var s=u.join(""),l=e.length%3;return(l?s.slice(0,l-3):s)+"===".slice(l||3)}(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function A(){var e,t={},n=[],r=[],o=[],i=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:i,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])},addJson:function(e,t,o){if(o&&P(o)){var i={keyIfEncoded:e,keyIfNotEncoded:t,json:o};r.push(i),n.push(i)}},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function x(e){return function(n,r,o){for(var i=function(t,r,o){var i=JSON.stringify(t);e?n.add(r,C(i)):n.add(o,i)},a=function(t,r){var o=t||function(){var t=n.getPayload();if(e?t.cx:t.co)return JSON.parse(e?O(t.cx):t.co)}();return o?o.data=o.data.concat(r.data):o=r,o},c=void 0,u=0,s=r;u<s.length;u++){var l=s[u];"cx"===l.keyIfEncoded?c=a(c,l.json):i(l.json,l.keyIfEncoded,l.keyIfNotEncoded)}(r.length=0,o.length)&&(c=a(c,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:t([],o,!0)}),o.length=0);c&&i(c,"cx","co")}}function P(e){if(!N(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function N(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var L,R="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(L||(L={}));var _=function(e){void 0===e&&(e=L.warn);return{setLogLevel:function(t){e=L[t]?t:L.warn},warn:function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(e>=L.warn&&"undefined"!=typeof console){var a=R+n;r?console.warn.apply(console,t([a+"\n",r],o,!1)):console.warn.apply(console,t([a],o,!1))}},error:function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(e>=L.error&&"undefined"!=typeof console){var a=R+n+"\n";r?console.error.apply(console,t([a+"\n",r],o,!1)):console.error.apply(console,t([a],o,!1))}},debug:function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];e>=L.debug&&"undefined"!=typeof console&&console.debug.apply(console,t([R+n],r,!1))},info:function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];e>=L.info&&"undefined"!=typeof console&&console.info.apply(console,t([R+n],r,!1))}}}();function U(){var e=[],t=[],n=function(n){var r=function(e){for(var t=e.getJson(),n=0,r=t;n<r.length;n++){var o=r[n];if("ue_px"===o.keyIfEncoded&&"object"==typeof o.json.data){var i=o.json.data.schema;if("string"==typeof i)return i}}return""}(n),o=function(e){var t=e.getPayload().e;return"string"==typeof t?t:""}(n),i=[],a=q(e,n,o,r);i.push.apply(i,a);var c=function(e,t,n,r){var o,i=W(e),a=function(e){var o=function(e,t,n,r){if(z(e)){var o=e[0],i=!1;try{i=o({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){i=!1}if(!0===i)return q(e[1],t,n,r)}else if($(e)&&function(e,t){var n=0,r=0,o=e.accept;Array.isArray(o)?e.accept.some((function(e){return Y(e,t)}))&&r++:"string"==typeof o&&Y(o,t)&&r++;var i=e.reject;Array.isArray(i)?e.reject.some((function(e){return Y(e,t)}))&&n++:"string"==typeof i&&Y(i,t)&&n++;if(r>0&&0===n)return!0;if(0===r&&n>0)return!1;return!1}(e[0],r))return q(e[1],t,n,r);return[]}(e,t,n,r);if(o&&0!==o.length)return o},c=i.map(a);return(o=[]).concat.apply(o,c.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,r);return i.push.apply(i,c),i};return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],o=[],i=0,a=n;i<a.length;i++){var c=a[i];J(c)?r.push(c):V(c)&&o.push(c)}e=e.concat(o),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){J(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):V(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},o=0,i=n;o<i.length;o++){r(i[o])}},getApplicableContexts:function(e){return n(e)}}}function D(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){return}})).filter(Boolean))&&void 0!==t?t:[]}function j(e){var t=e.split(".");return!!(t&&t.length>1)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(t)}function M(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==t&&j(t[1]))return t.slice(1,6)}function H(e){var t=M(e);if(t){var n=t[0];return 5===t.length&&j(n)}return!1}function B(e){return function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}(e)?e.every((function(e){return H(e)})):"string"==typeof e&&H(e)}function F(e){var t=e;return!!(P(t)&&"schema"in t&&"data"in t)&&("string"==typeof t.schema&&"object"==typeof t.data)}function G(e){return"function"==typeof e&&e.length<=1}function V(e){return G(e)||F(e)}function z(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?G(e[0])&&e[1].every(V):G(e[0])&&V(e[1]))}function $(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=e,n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!B(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!B(t.reject))return!1;n+=1}return n>0&&n<=2}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(V):V(e[1])))}function J(e){return z(e)||$(e)}function Y(e,t){if(!H(e))return!1;var n=M(e),r=function(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e);if(null!==t)return t.slice(1,6)}(t);if(n&&r){if(!function(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!X(n[o],r[o]))return!1;return!0}return!1}(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!X(n[o],r[o]))return!1;return!0}return!1}function X(e,t){return e&&t&&"*"===e||e===t}function W(e){return Array.isArray(e)?e:Array.of(e)}function q(e,t,n,r){var o,i=W(e).map((function(e){var o=function(e,t,n,r){if(F(e))return[e];if(G(e)){var o=function(e,t,n,r){var o=void 0;try{return o=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(o)&&o.every(F)||F(o)?o:void 0}catch(e){o=void 0}return o}(e,t,n,r);if(F(o))return[o];if(Array.isArray(o))return o}return}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,i.filter((function(e){return null!=e&&e.filter(Boolean)})))}function K(n){void 0===n&&(n={});var r=n.base64,o=n.corePlugins,i=n.callback,a=null!=o?o:[],c=function(e,n,r){var o=function(e){return{addPluginContexts:function(n){var r=n?t([],n,!0):[];return e.forEach((function(e){try{e.contexts&&r.push.apply(r,e.contexts())}catch(e){_.error("Error adding plugin contexts",e)}})),r}}}(n),i=U(),a=e,c={};function u(e,t){c[e]=t}var s={track:function(e,t,u){e.withJsonProcessor(x(a)),e.add("eid",S.v4()),e.addDict(c);var s=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(u);e.add(s.type,s.value.toString());var l=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(function(e,t){var n=i.getApplicableContexts(e),r=[];return t&&t.length&&r.push.apply(r,t),n&&n.length&&r.push.apply(r,n),r}(e,o.addPluginContexts(t)));void 0!==l&&e.addJson("cx","co",l),n.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){_.error("Plugin beforeTrack",e)}})),"function"==typeof r&&r(e);var d=e.build();return n.forEach((function(e){try{e.afterTrack&&e.afterTrack(d)}catch(e){_.error("Plugin afterTrack",e)}})),d},addPayloadPair:u,getBase64Encoding:function(){return a},setBase64Encoding:function(e){a=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(c[t]=e[t])},resetPayloadPairs:function(e){c=N(e)?e:{}},setTrackerVersion:function(e){u("tv",e)},setTrackerNamespace:function(e){u("tna",e)},setAppId:function(e){u("aid",e)},setPlatform:function(e){u("p",e)},setUserId:function(e){u("uid",e)},setScreenResolution:function(e,t){u("res",e+"x"+t)},setViewport:function(e,t){u("vp",e+"x"+t)},setColorDepth:function(e){u("cd",e)},setTimezone:function(e){u("tz",e)},setLang:function(e){u("lang",e)},setIpAddress:function(e){u("ip",e)},setUseragent:function(e){u("ua",e)},addGlobalContexts:function(e){i.addGlobalContexts(e)},clearGlobalContexts:function(){i.clearGlobalContexts()},removeGlobalContexts:function(e){i.removeGlobalContexts(e)}};return s}(null==r||r,a,i),u=e(e({},c),{addPlugin:function(e){var t,n,r=e.plugin;a.push(r),null===(t=r.logger)||void 0===t||t.call(r,_),null===(n=r.activateCorePlugin)||void 0===n||n.call(r,u)}});return null==a||a.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,_),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,u)})),u}function Q(e){var t=e.event,n=t.schema,r=t.data,o=A(),i={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",i),o}function Z(e,t){void 0===t&&(t={});var n={};for(var r in e)(t[r]||null!==e[r]&&void 0!==e[r])&&(n[r]=e[r]);return n}var ee,te,ne={exports:{}},re={exports:{}};ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&te.rotl(e,8)|4278255360&te.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=te.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(ee.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((ee.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|ee.indexOf(e.charAt(n))>>>6-2*r);return t}},re.exports=te;var oe=re.exports,ie={utf8:{stringToBytes:function(e){return ie.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(ie.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},ae=ie;!function(){var e=oe,t=ae.utf8,n=ae.bin,r=function(r,o){var i=e.wordsToBytes(function(n){n.constructor==String?n=t.stringToBytes(n):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());var r=e.bytesToWords(n),o=8*n.length,i=[],a=1732584193,c=-271733879,u=-1732584194,s=271733878,l=-1009589776;r[o>>5]|=128<<24-o%32,r[15+(o+64>>>9<<4)]=o;for(var d=0;d<r.length;d+=16){for(var f=a,v=c,m=u,p=s,g=l,h=0;h<80;h++){if(h<16)i[h]=r[d+h];else{var y=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=y<<1|y>>>31}var w=(a<<5|a>>>27)+l+(i[h]>>>0)+(h<20?1518500249+(c&u|~c&s):h<40?1859775393+(c^u^s):h<60?(c&u|c&s|u&s)-1894007588:(c^u^s)-899497514);l=s,s=u,u=c<<30|c>>>2,c=a,a=w}a+=f,c+=v,u+=m,s+=p,l+=g}return[a,c,u,s,l]}(r));return o&&o.asBytes?i:o&&o.asString?n.bytesToString(i):e.bytesToHex(i)};r._blocksize=16,r._digestsize=20,ne.exports=r}();var ce=n(ne.exports);function ue(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch(e){return!1}}function se(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function le(e){try{return window.sessionStorage.getItem(e)}catch(e){return}}var de={sessionId:!0,sourceId:!0,sourcePlatform:!1,userId:!1,reason:!1};function fe(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function ve(e){return!(!e||"string"!=typeof e.valueOf())}function me(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function pe(e){if(!ve(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function ge(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function he(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function ye(e){var t=window,n=be("referrer",t.location.href)||be("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function we(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function be(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function Ee(e,t,n,r){ke(e,"",-1,"/",t,n,r)}function Te(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function ke(e,t,n,r,o,i,a){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Se(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=Ae(e);return Ie(e,(function(e){return function(e,t){for(var n=Ce(e),r=0,o=n;r<o.length;r++){if(t[o[r]])return!0}return!1}(e,n)===t}))}function Oe(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=e.hasOwnProperty("allowlist"),n=Ae(e);return Ie(e,(function(e){return e.name in n===t}))}function Ce(e){return e.className.match(/\S+/g)||[]}function Ie(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function Ae(e){var t={},n=e.allowlist||e.denylist;if(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)t[n[r]]=!0}return t}function xe(){var e="modernizr";if(!function(){try{return!!window.localStorage}catch(e){return!0}}())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}var Pe="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",Ne="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",Le="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",Re="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function _e(e,t,n,r,o,i,a,c,u,s,l,d,f,v,m,p,g,h,y,w){void 0===h&&(h=!0);var b,E,T=!1,k=[],S=!1,O=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,C=Boolean(O&&window.navigator&&"function"==typeof window.navigator.sendBeacon&&!(function(e,t){var n=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!n||!n.length)&&parseInt(n[0])<=e}(13,E=window.navigator.userAgent)||function(e,t,n){var r=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!r||!r.length)&&(parseInt(r[0])<=e||parseInt(r[0])===e&&parseInt(r[1])<=t)}(10,15,E)&&function(e){return e.match("Version/.* Safari/")&&!function(e){return e.match("Chrom(e|ium)")}(e)}(E)))&&O,I="get"===r,A=Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),x=!I&&A&&("post"===r||O),P=x?o:"/i",N="snowplowOutQueue_".concat(e,"_").concat(x?"post2":"get");if(O&&(f={}),i=n&&xe()&&x&&i||1,n)try{var L=window.localStorage.getItem(N);k=L?JSON.parse(L):[]}catch(e){}function R(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r.toString(),e}),{});return{evt:t,bytes:U(JSON.stringify(t))}}function U(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}Array.isArray(k)||(k=[]),t.outQueues.push(k),A&&i>1&&t.bufferFlushers.push((function(e){T||B(e)}));var D=function(e){return"object"==typeof e[0]&&"evt"in e[0]};function j(e,t){var n=G(t,!0,!1),r=z([e.evt]);n.onreadystatechange=function(){4===n.readyState&&(F(n.status)?null==y||y(r):null==w||w({status:n.status,message:n.statusText,events:r,willRetry:!1}))},n.send(V(r))}function M(e){for(var t=0;t<e;t++)k.shift();n&&ue(N,JSON.stringify(k.slice(0,s)))}function H(e,t,n){e.onreadystatechange=function(){if(4===e.readyState)if(clearTimeout(r),F(e.status))M(t),null==y||y(n),B();else{var o=function(e){if(F(e))return!1;if(!h)return!1;if(m.includes(e))return!0;return!p.includes(e)}(e.status);o||(_.error("Status ".concat(e.status,", will not retry.")),M(t)),null==w||w({status:e.status,message:e.statusText,events:n,willRetry:o}),T=!1}};var r=setTimeout((function(){e.abort(),h||M(t),null==w||w({status:0,message:"timeout",events:n,willRetry:h}),T=!1}),l)}function B(e){for(void 0===e&&(e=!1);k.length&&"string"!=typeof k[0]&&"object"!=typeof k[0];)k.shift();if(k.length){if(!ve(b))throw"No collector configured";if(T=!0,g&&!S){var t=G(g,!1,e);return S=!0,t.timeout=l,t.onreadystatechange=function(){4===t.readyState&&B()},void t.send()}if(A){var r=void 0,o=void 0,i=void 0;if(D(k)?(o=G(r=b,!0,e),i=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=a);)t+=1;return t}(k)):(o=G(r=$(k[0]),!1,e),i=1),D(k)){var c=k.slice(0,i);if(c.length>0){var u=!1,f=c.map((function(e){return e.evt}));if(C){var v=new Blob([V(z(f))],{type:"application/json"});try{u=window.navigator.sendBeacon(r,v)}catch(e){u=!1}}if(!0===u)M(i),null==y||y(c),B();else{var m=z(f);H(o,i,m),o.send(V(m))}}}else H(o,i,[r]),o.send()}else if(d||D(k))T=!1;else{var p=new Image(1,1),h=!0;p.onload=function(){h&&(h=!1,k.shift(),n&&ue(N,JSON.stringify(k.slice(0,s))),B())},p.onerror=function(){h&&(h=!1,T=!1)},p.src=$(k[0]),setTimeout((function(){h&&T&&(h=!1,B())}),l)}}else T=!1}function F(e){return e>=200&&e<300}function G(e,t,n){var r=new XMLHttpRequest;for(var o in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=v,d&&r.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,o)&&r.setRequestHeader(o,f[o]);return r}function V(e){return JSON.stringify({schema:Re,data:e})}function z(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function $(e){return u?b+e.replace("?","?stm="+(new Date).getTime()+"&"):b+e}return{enqueueRequest:function(e,t){b=t+P;var r=function(e,t){return _.warn("Event ("+e+"B) too big, max is "+t)};if(x){if((d=R(e)).bytes>=a)return r(d.bytes,a),void j(d,b);k.push(d)}else{var u=function(e){var t="?",n={co:!0,cx:!0},r=!0;for(var o in e)e.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(r?r=!1:t+="&",t+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var i in n)e.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t+="&"+i+"="+encodeURIComponent(e[i]));return t}(e);if(c>0){var l=U($(u));if(l>=c){var d;if(r(l,c),A)j(d=R(e),t+o);return}}k.push(u)}var f=!1;n&&(f=ue(N,JSON.stringify(k.slice(0,s)))),T||f&&!(k.length>=i)||B()},executeQueue:function(){T||B()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){b=e+P},setBufferSize:function(e){i=e}}}function Ue(e,t,n){var r;return"translate.googleusercontent.com"===e?(""===n&&(n=t),t=null!==(r=function(e,t){var n=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(e);return n&&(null==n?void 0:n.length)>1?be(t,n[1]):null}(t,"u"))&&void 0!==r?r:"",e=ge(t)):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=ge(t=document.links[0].href)),[e,t,n]}var De=0,je=1,Me=2,He=3,Be=4,Fe=5,Ge=6,Ve=7,ze=8,$e=9,Je=10;function Ye(e,t){void 0===t&&(t={memorizedVisitCount:1});var n=t.memorizedVisitCount;Qe(e)?(e[Ve]=e[Ge],e[Fe]=e[Be],e[He]++):e[He]=n;var r=S.v4();return e[Ge]=r,e[Je]=0,e[ze]="",e[$e]=void 0,r}function Xe(e){e[Be]=Math.round((new Date).getTime()/1e3)}function We(e,t,n){var r=e[$e];return{userId:n?"00000000-0000-0000-0000-000000000000":e[je],sessionId:e[Ge],eventIndex:e[Je],sessionIndex:e[He],previousSessionId:n?null:e[Ve]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[ze]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function qe(e){return e[Ge]}function Ke(e){return e[He]}function Qe(e){return"0"===e[De]}var Ze,et=!1;var tt="x";function nt(){return"ResizeObserver"in window?(Ze||(Ze=rt()),function(){if(!et&&document&&document.body&&document.documentElement){et=!0;var e=new ResizeObserver((function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];r.target!==document.body&&r.target!==document.documentElement||(Ze=rt())}}));e.observe(document.body),e.observe(document.documentElement)}}(),Ze):rt()}function rt(){return{viewport:it(ot()),documentSize:it((e=document.documentElement,t=document.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,r=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),o=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n),isNaN(r)||isNaN(o)?"":r+tt+o)),resolution:it(screen.width+tt+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:window.navigator.language||window.navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency};var e,t,n,r,o}function ot(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return e>=0&&t>=0?e+tt+t:null}function it(e){return e&&e.split(tt).map((function(e){return Math.floor(Number(e))})).join(tt)}function at(n,r,o,i,a,c){void 0===c&&(c={});var u=[],s=function(n,r,o,i,a,c){var s,l,d,f,v,m,p,g,h,y,w,b,E,T,k,O,C,I,x,P,N,L,R,U,D,j,M,H,B;c.eventMethod=null!==(s=c.eventMethod)&&void 0!==s?s:"post";var F,G,V=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},z=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},$=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)},J=function(e){return!!e.anonymousTracking},Y=null!==(d=null===(l=null==c?void 0:c.contexts)||void 0===l?void 0:l.browser)&&void 0!==d&&d,X=null===(v=null===(f=null==c?void 0:c.contexts)||void 0===f?void 0:f.webPage)||void 0===v||v;u.push((F=function(e){return Tt?null:e},G=function(e){return bt?e:F(e)},{beforeTrack:function(e){var t=Xt("ses"),n=un(),r=0===function(e){return e[Je]}(n);if(Ie=!!te&&!!ke(te),ht||Ie)on();else{Qe(n)?(Oe=t||"none"==kt?qe(n):Ye(n),Ot=Ke(n)):(new Date).getTime()-St>1e3*wt&&(Ot++,Oe=Ye(n,{memorizedVisitCount:Ot})),Xe(n),function(e,t){if(0===e[Je]){var n=t.build();e[ze]=n.eid;var r=n.dtm||n.ttm;e[$e]=r?parseInt(r):void 0}}(n,e),function(e){e[Je]+=1}(n);var o=nt(),i=o.viewport,a=o.documentSize;e.add("vp",i),e.add("ds",a),e.add("vid",G(Ot)),e.add("sid",G(Oe)),e.add("duid",F(function(e){return e[je]}(n))),e.add("uid",F(Ce)),Gt(),e.add("refr",$t(W||rt)),e.add("url",$t(q||tt));var c=We(n,kt,Tt);if(!Nt||Tt&&!bt||function(e,t){var n={schema:Le,data:t};e.addContextEntity(n)}(e,c),"none"!=kt){nn(n);var u=tn();t&&!r||!u||!Lt||Rt||(Lt(c),Rt=!1)}St=(new Date).getTime()}}})),X&&u.push({contexts:function(){return[{schema:Pe,data:{id:dn()}}]}}),Y&&u.push({contexts:function(){return[{schema:Ne,data:e(e({},nt()),{tabId:fn()})}]}}),u.push.apply(u,null!==(m=c.plugins)&&void 0!==m?m:[]);var W,q,Q,Z,ee,te,ne,re,oe,ie,ae,ve,Se,Oe,Ce,Ie,Ae,xe=K({base64:c.encodeBase64,corePlugins:u,callback:function(e){ht||Ie||Ct.enqueueRequest(e.build(),it)}}),Re=document.characterSet||document.charset,Ze=Ue(window.location.hostname,window.location.href,ye()),et=he(Ze[0]),tt=Ze[1],rt=Ze[2],ot=null!==(p=c.platform)&&void 0!==p?p:"web",it=sn(i),at=null!==(g=c.postPath)&&void 0!==g?g:"/com.snowplowanalytics.snowplow/tp2",ct=null!==(h=c.appId)&&void 0!==h?h:"",ut=document.title,st=!1,lt=null===(y=c.resetActivityTrackingOnPageView)||void 0===y||y,dt=null!==(w=c.cookieName)&&void 0!==w?w:"_sp_",ft=null!==(b=c.cookieDomain)&&void 0!==b?b:void 0,vt="/",mt=null!==(E=c.cookieSameSite)&&void 0!==E?E:"None",pt=null===(T=c.cookieSecure)||void 0===T||T,gt=window.navigator.doNotTrack||window.navigator.msDoNotTrack||window.doNotTrack,ht=void 0!==c.respectDoNotTrack&&(c.respectDoNotTrack&&("yes"===gt||"1"===gt)),yt=null!==(k=c.cookieLifetime)&&void 0!==k?k:63072e3,wt=null!==(O=c.sessionCookieTimeout)&&void 0!==O?O:1800,bt=z(c),Et=$(c),Tt=J(c),kt=V(c),St=(new Date).getTime(),Ot=1,Ct=_e(n,a,"localStorage"==kt||"cookieAndLocalStorage"==kt,c.eventMethod,at,null!==(C=c.bufferSize)&&void 0!==C?C:1,null!==(I=c.maxPostBytes)&&void 0!==I?I:4e4,null!==(x=c.maxGetBytes)&&void 0!==x?x:0,null===(P=c.useStm)||void 0===P||P,null!==(N=c.maxLocalStorageQueueSize)&&void 0!==N?N:1e3,null!==(L=c.connectionTimeout)&&void 0!==L?L:5e3,Et,null!==(R=c.customHeaders)&&void 0!==R?R:{},null===(U=c.withCredentials)||void 0===U||U,null!==(D=c.retryStatusCodes)&&void 0!==D?D:[],(null!==(j=c.dontRetryStatusCodes)&&void 0!==j?j:[]).concat([400,401,403,410,422]),c.idService,c.retryFailedRequests,c.onRequestSuccess,c.onRequestFailure),It=!1,At=null!==(M=c.preservePageViewIdForUrl)&&void 0!==M&&M,xt=void 0,Pt={enabled:!1,installed:!1,configurations:{}},Nt=null!==(B=null===(H=c.contexts)||void 0===H?void 0:H.session)&&void 0!==B&&B,Lt=c.onSessionUpdateCallback,Rt=!1,_t="boolean"==typeof(Ae=c.useExtendedCrossDomainLinker||!1)?{useExtendedCrossDomainLinker:Ae}:{useExtendedCrossDomainLinker:!0,collectCrossDomainAttributes:Ae},Ut=_t.useExtendedCrossDomainLinker,Dt=_t.collectCrossDomainAttributes;c.hasOwnProperty("discoverRootDomain")&&c.discoverRootDomain&&(ft=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=n.split("."),c=a.length-2;c>=0;c--){var u=a.slice(c).join(".");if(ke(o,i,0,"/",u,e,t),ke(o)===i){Ee(o,u,e,t);for(var s=Te(r),l=0;l<s.length;l++)Ee(s[l],u,e,t);return u}}return n}(mt,pt));var jt=nt(),Mt=jt.browserLanguage,Ht=jt.resolution,Bt=jt.colorDepth,Ft=jt.cookiesEnabled;function Gt(){(Ze=Ue(window.location.hostname,window.location.href,ye()))[1]!==tt&&(rt=ye(tt)),et=he(Ze[0]),tt=Ze[1]}function Vt(t){return function(n){var r=n.currentTarget,o=function(t,n,r){var o,i=(new Date).getTime(),a=e(e({},de),n),c=r.domainUserId,u=r.userId,s=r.sessionId,l=r.sourceId,d=r.sourcePlatform,f=r.event,v=f.currentTarget,m="function"==typeof a.reason?a.reason(f):null===(o=null==v?void 0:v.textContent)||void 0===o?void 0:o.trim();return t?[c,i,a.sessionId&&s,a.userId&&fe(u||""),a.sourceId&&fe(l||""),a.sourcePlatform&&d,a.reason&&fe(m||"")].map((function(e){return e||""})).join(".").replace(/([.]*$)/,""):r.domainUserId+"."+i}(t,Dt,{domainUserId:Se,userId:Ce||void 0,sessionId:Oe,sourceId:ct,sourcePlatform:ot,event:n});(null==r?void 0:r.href)&&(r.href=function(e,t,n){var r=t+"="+n,o=e.split("#"),i=o[0].split("?"),a=i.shift(),c=i.join("?");if(c){for(var u=!0,s=c.split("&"),l=0;l<s.length;l++)if(s[l].substr(0,t.length+1)===t+"="){u=!1,s[l]=r,c=s.join("&");break}u&&(c=r+"&"+c)}else c=r;return o[0]=a+"?"+c,o.join("#")}(r.href,"_sp",o))}}function zt(e){for(var t=Vt(Ut),n=0;n<document.links.length;n++){var r=document.links[n];!r.spDecorationEnabled&&e(r)&&(r.addEventListener("click",t,!0),r.addEventListener("mousedown",t,!0),r.spDecorationEnabled=!0)}}function $t(e){var t;return Z&&(t=new RegExp("#.*"),e=e.replace(t,"")),ee&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function Jt(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function Yt(e){return dt+e+"."+ve}function Xt(e){var t=Yt(e);return"localStorage"==kt?
/*!
   * Core functionality for Snowplow Browser trackers v3.24.3 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */
function(e){try{var t=window.localStorage,n=t.getItem(e+".expires");return null===n||+n>Date.now()?t.getItem(e):(t.removeItem(e),void t.removeItem(e+".expires"))}catch(e){return}}(t):"cookie"==kt||"cookieAndLocalStorage"==kt?ke(t):void 0}function Wt(){Gt(),ve=ce((ft||et)+(vt||"/")).slice(0,4)}function qt(){var e=new Date;ne=e.getTime()}function Kt(){!function(){var e=Qt(),t=e[0];t<re?re=t:t>oe&&(oe=t);var n=e[1];n<ie?ie=n:n>ae&&(ae=n)}(),qt()}function Qt(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function Zt(){var e=Qt(),t=e[0];re=t,oe=t;var n=e[1];ie=n,ae=n}function en(e){return Math.round(e)}function tn(){return rn(Yt("ses"),"*",wt)}function nn(e){var n=Yt("id"),r=function(e,n){var r=t([],e,!0);return n&&(r[je]="",r[Ve]=""),r.shift(),r.join(".")}(e,Tt);return rn(n,r,yt)}function rn(e,t,n){return!(Tt&&!bt)&&("localStorage"==kt?ue(e,t,n):("cookie"==kt||"cookieAndLocalStorage"==kt)&&(ke(e,t,n,vt,ft,mt,pt),-1!==document.cookie.indexOf("".concat(e,"="))))}function on(e){var t=Yt("id"),n=Yt("ses");se(t),se(n),Ee(t,ft,mt,pt),Ee(n,ft,mt,pt),(null==e?void 0:e.preserveSession)||(Oe=S.v4(),Ot=1),(null==e?void 0:e.preserveUser)||(Se=Tt?"":S.v4(),Ce=null)}function an(e){e&&e.stateStorageStrategy&&(c.stateStorageStrategy=e.stateStorageStrategy,kt=V(c)),Tt=J(c),bt=z(c),Et=$(c),Ct.setUseLocalStorage("localStorage"==kt||"cookieAndLocalStorage"==kt),Ct.setAnonymousTracking(Et)}function cn(){if(!Tt||bt){var e="none"!=kt&&!!Xt("ses"),t=un();Se=function(e,t){var n;return e[je]?n=e[je]:t?(n="",e[je]=n):(n=S.v4(),e[je]=n),n}(t,Tt),Oe=e?qe(t):Ye(t),Ot=Ke(t),"none"!=kt&&(tn(),Xe(t),nn(t))}}function un(){return"none"==kt?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var o,i=new Date,a=Math.round(i.getTime()/1e3);e?(o=e.split(".")).unshift("0"):o=["1",t,a,r,a,"",n],o[Ge]&&"undefined"!==o[Ge]||(o[Ge]=S.v4()),o[Ve]&&"undefined"!==o[Ve]||(o[Ve]=""),o[ze]&&"undefined"!==o[ze]||(o[ze]=""),o[$e]&&"undefined"!==o[$e]||(o[$e]=""),o[Je]&&"undefined"!==o[Je]||(o[Je]=0);var c=function(e,t){var n=parseInt(e);return isNaN(n)?t:n},u=function(e){return e?c(e,void 0):void 0};return[o[De],o[je],c(o[Me],a),c(o[He],r),c(o[Be],a),u(o[Fe]),o[Ge],o[Ve],o[ze],u(o[$e]),c(o[Je],0)]}(Xt("id")||void 0,Se,Oe,Ot)}function sn(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function ln(){It&&null!=a.pageViewId||(a.pageViewId=S.v4(),a.pageViewUrl=q||tt)}function dn(){return function(){if(null==a.pageViewId)return!0;if(It||!At)return!1;if(void 0===a.pageViewUrl)return!0;var e=q||tt;if(!0===At||"full"==At||!("URL"in window))return a.pageViewUrl!=e;var t=new URL(e),n=new URL(a.pageViewUrl);if("pathname"==At)return t.pathname!=n.pathname;if("pathnameAndSearch"==At)return t.pathname!=n.pathname||t.search!=n.search;return!1}()&&(a.pageViewId=S.v4(),a.pageViewUrl=q||tt),a.pageViewId}function fn(){if("none"===kt||Tt||!X)return null;var e="_sp_tab_id",t=le(e);return t||(!function(e,t){try{return window.sessionStorage.setItem(e,t),!0}catch(e){return!1}}(e,S.v4()),t=le(e)),t||null}function vn(e,t){return(e||[]).concat(t?t():[])}function mn(e){var t=e.title,n=e.context,r=e.timestamp,o=e.contextCallback;Gt(),xt&&xt==dn()&&ln(),xt=dn(),ut=document.title,t?(Q=t,st=!0):st&&(Q=null);var i=pe(Q||ut);xe.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=A();return o.add("e","pv"),o.add("url",t),o.add("page",n),o.add("refr",r),o}({pageUrl:$t(q||tt),pageTitle:i,referrer:$t(W||rt)}),vn(n,o),r);var a=new Date,c=!1;if(Pt.enabled&&!Pt.installed){Pt.installed=!0,c=!0;var u={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),u.hasSupport=e}}};u.update();var s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(u,"hasSupport")?we(document,s,qt,{passive:!0}):we(document,s,qt),Zt();var l=function(e,t){return void 0===t&&(t=qt),function(e){return we(document,e,t)}};["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach(l(document)),["resize","focus","blur"].forEach(l(window)),l(window,Kt)("scroll")}if(Pt.enabled&&(lt||c)){ne=a.getTime();var d=void 0;for(d in Pt.configurations){var f=Pt.configurations[d];f&&(window.clearInterval(f.activityInterval),pn(f,n,o))}}}function pn(e,t,n){var r=function(e,t){Gt(),e({context:t,pageViewId:dn(),minXOffset:re,minYOffset:ie,maxXOffset:oe,maxYOffset:ae}),Zt()},o=function(){var o=new Date;ne+e.configHeartBeatTimer>o.getTime()&&r(e.callback,vn(t,n))};0===e.configMinimumVisitLength?e.activityInterval=window.setInterval(o,e.configHeartBeatTimer):e.activityInterval=window.setTimeout((function(){var i=new Date;ne+e.configMinimumVisitLength>i.getTime()&&r(e.callback,vn(t,n)),e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength)}function gn(e){var t=e.minimumVisitLength,n=e.heartbeatDelay,r=e.callback;if(me(t)&&me(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:r};_.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function hn(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,i=e.maxYOffset,a=document.title;a!==ut&&(ut=a,Q=void 0),xe.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=e.minXOffset,i=e.maxXOffset,a=e.minYOffset,c=e.maxYOffset,u=A();return u.add("e","pp"),u.add("url",t),u.add("page",n),u.add("refr",r),o&&!isNaN(Number(o))&&u.add("pp_mix",o.toString()),i&&!isNaN(Number(i))&&u.add("pp_max",i.toString()),a&&!isNaN(Number(a))&&u.add("pp_miy",a.toString()),c&&!isNaN(Number(c))&&u.add("pp_may",c.toString()),u}({pageUrl:$t(q||tt),pageTitle:pe(Q||ut),referrer:$t(W||rt),minXOffset:en(n),maxXOffset:en(o),minYOffset:en(r),maxYOffset:en(i)}),t)}function yn(e){var t=Pt.configurations[e];0===(null==t?void 0:t.configMinimumVisitLength)?window.clearTimeout(null==t?void 0:t.activityInterval):window.clearInterval(null==t?void 0:t.activityInterval),Pt.configurations[e]=void 0}xe.setTrackerVersion(o),xe.setTrackerNamespace(r),xe.setAppId(ct),xe.setPlatform(ot),xe.addPayloadPair("cookie",Ft?"1":"0"),xe.addPayloadPair("cs",Re),xe.addPayloadPair("lang",Mt),xe.addPayloadPair("res",Ht),xe.addPayloadPair("cd",Bt),Wt(),cn(),c.crossDomainLinker&&zt(c.crossDomainLinker);var wn={getDomainSessionIndex:function(){return Ot},getPageViewId:dn,getTabId:fn,newSession:function(){var e=un();if(Qe(e)?(Oe="none"!=kt?Ye(e):qe(e),Ot=Ke(e)):(Ot++,Oe=Ye(e,{memorizedVisitCount:Ot})),Xe(e),"none"!=kt){var t=We(e,kt,Tt);nn(e),tn()&&Lt&&(Rt=!0,Lt(t))}St=(new Date).getTime()},getCookieName:function(e){return Yt(e)},getUserId:function(){return Ce},getDomainUserId:function(){return un()[1]},getDomainUserInfo:function(){return un()},setReferrerUrl:function(e){W=e},setCustomUrl:function(e){Gt(),q=function(e,t){var n;return Jt(t)?t:"/"===t.slice(0,1)?Jt(e)+"://"+ge(e)+t:((n=(e=$t(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(tt,e)},setDocumentTitle:function(e){ut=document.title,Q=e,st=!1},discardHashTag:function(e){Z=e},discardBrace:function(e){ee=e},setCookiePath:function(e){vt=e,Wt()},setVisitorCookieTimeout:function(e){yt=e},crossDomainLinker:function(e){zt(e)},enableActivityTracking:function(t){Pt.configurations.pagePing||(Pt.enabled=!0,Pt.configurations.pagePing=gn(e(e({},t),{callback:hn})))},enableActivityTrackingCallback:function(e){Pt.configurations.callback||(Pt.enabled=!0,Pt.configurations.callback=gn(e))},disableActivityTracking:function(){yn("pagePing")},disableActivityTrackingCallback:function(){yn("callback")},updatePageActivity:function(){qt()},setOptOutCookie:function(e){te=e},setUserId:function(e){Ce=e},setUserIdFromLocation:function(e){Gt(),Ce=be(e,tt)},setUserIdFromReferrer:function(e){Gt(),Ce=be(e,rt)},setUserIdFromCookie:function(e){Ce=ke(e)},setCollectorUrl:function(e){it=sn(e),Ct.setCollectorUrl(it)},setBufferSize:function(e){Ct.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Ct.executeQueue(),e.newBufferSize&&Ct.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),mn(e)},preservePageViewId:function(){It=!0},preservePageViewIdForUrl:function(e){At=e},disableAnonymousTracking:function(e){c.anonymousTracking=!1,an(e),cn(),Ct.executeQueue()},enableAnonymousTracking:function(e){var t;c.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,an(e),bt||ln()},clearUserData:on};return e(e({},wn),{id:n,namespace:r,core:xe,sharedState:a})}(n,r,o,i,a,c),l=e(e({},s),{addPlugin:function(e){var t,n;l.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,l)}});return u.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,l)})),l}var ct={};function ut(e,t){try{(n=null!=e?e:Object.keys(ct),lt(n,ct)).forEach(t)}catch(e){_.error("Function failed",e)}var n}function st(e,t,n){try{lt(null!=e?e:Object.keys(t),t).forEach(n)}catch(e){_.error("Function failed",e)}}function lt(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.hasOwnProperty(i)?n.push(t[i]):_.warn(i+" not configured")}return n}var dt=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};function ft(e,t){ut(t,(function(t){t.trackPageView(e)}))}function vt(e,t){ut(t,(function(t){t.core.track(function(e){var t=e.category,n=e.action,r=e.label,o=e.property,i=e.value,a=A();return a.add("e","se"),a.add("se_ca",t),a.add("se_ac",n),a.add("se_la",r),a.add("se_pr",o),a.add("se_va",null==i?void 0:i.toString()),a}(e),e.context,e.timestamp)}))}function mt(e,t){ut(t,(function(t){t.core.track(Q({event:e.event}),e.context,e.timestamp)}))}function pt(e,t){ut(t,(function(t){t.core.addGlobalContexts(e)}))}function gt(e,t){ut(t,(function(t){t.enableAnonymousTracking(e)}))}var ht="undefined"!=typeof window?function(){var e=new dt,t=document,n=window;function r(){var t;if(!e.hasLoaded)for(e.hasLoaded=!0,t=0;t<e.registeredOnLoadHandlers.length;t++)e.registeredOnLoadHandlers[t]();return!0}return t.visibilityState&&we(t,"visibilitychange",(function(){"hidden"==t.visibilityState&&e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),we(n,"beforeunload",(function(){e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(t.addEventListener?t.addEventListener("DOMContentLoaded",(function e(){t.removeEventListener("DOMContentLoaded",e,!1),r()})):t.attachEvent&&t.attachEvent("onreadystatechange",(function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),r())})),we(n,"load",r,!1)):r(),e}
/*!
   * Browser tracker for Snowplow v3.24.3 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */():void 0;function yt(e,t,n){return void 0===n&&(n={}),ht?function(e,t,n,r,o,i){return ct.hasOwnProperty(e)?null:(ct[e]=at(e,t,n,r,o,i),ct[e])}(e,e,"js-".concat("3.24.3"),t,ht,n):void 0}const wt=()=>window.location.search.includes("isDebug=true"),bt=e=>{wt()&&console.log(e)},Et=(e,t)=>{wt()&&console.error(e,t)},Tt=e=>(sessionStorage.setItem("sp_grp",e),e);
/*!
   * Form tracking for Snowplow v3.24.3 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */
var kt;!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(kt||(kt={}));var St=[kt.CHANGE_FORM,kt.FOCUS_FORM,kt.SUBMIT_FORM],Ot=["textarea","input","select"],Ct=function(e){return e};function It(e,t){var n,r=t.options,o=t.context,i=e.id+"form",a=function(e){if(e){var t=function(e){return!0},n=null;return!function(e){return null!=e&&Array.prototype.slice.call(e).length>0}(e.forms)?t=Se(e.forms):n=e.forms,{forms:n,formFilter:t,fieldFilter:Oe(e.fields),fieldTransform:At(e.fields),eventFilter:function(t){var n;return(null!==(n=e.events)&&void 0!==n?n:St).indexOf(t)>-1}}}return{forms:null,formFilter:function(){return!0},fieldFilter:function(){return!0},fieldTransform:Ct,eventFilter:function(){return!0}}}(r),c=null!==(n=a.forms)&&void 0!==n?n:document.getElementsByTagName("form");Array.prototype.slice.call(c).forEach((function(t){a.formFilter(t)&&(Array.prototype.slice.call(Ot).forEach((function(n){Array.prototype.slice.call(t.getElementsByTagName(n)).forEach((function(t){a.fieldFilter(t)&&!t[i]&&"password"!==t.type.toLowerCase()&&(a.eventFilter(kt.FOCUS_FORM)&&we(t,"focus",Nt(e,a,"focus_form",o),!1),a.eventFilter(kt.CHANGE_FORM)&&we(t,"change",Nt(e,a,"change_form",o),!1),t[i]=!0)}))})),t[i]||(a.eventFilter(kt.SUBMIT_FORM)&&we(t,"submit",function(e,t,n,r){return function(o){var i,a=o.target,c=function(e,t){var n=[];return Array.prototype.slice.call(Ot).forEach((function(r){var o=Array.prototype.slice.call(t.getElementsByTagName(r)).filter((function(t){return t.hasOwnProperty(e)}));Array.prototype.slice.call(o).forEach((function(e){if("submit"!==e.type){var t={elementData:{name:xt(e),value:e.value,nodeName:e.nodeName},originalElement:e};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(t.elementData.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(t.elementData.value=null),n.push(t)}}))})),n}(n,a);c.forEach((function(e){var n,r=e.elementData;r.value=null!==(n=t.fieldTransform(r.value,r,e.originalElement))&&void 0!==n?n:r.value}));var u,s=c.map((function(e){return e.elementData}));e.core.track(Q({event:{schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:Z({formId:(u={formId:null!==(i=xt(a))&&void 0!==i?i:"",formClasses:Ce(a),elements:s}).formId,formClasses:u.formClasses,elements:u.elements})}}),D(r,a,s))}}(e,a,i,o)),t[i]=!0))}))}function At(e){return e&&Object.prototype.hasOwnProperty.call(e,"transform")?e.transform:Ct}function xt(e){for(var t=0,n=["name","id","type","nodeName"];t<n.length;t++){var r=n[t];if(0!=e[r]&&"string"==typeof e[r])return e[r]}return null}function Pt(e){for(;e&&e.nodeName&&"HTML"!==e.nodeName.toUpperCase()&&"FORM"!==e.nodeName.toUpperCase();)e=e.parentNode;return e&&e.nodeName&&"FORM"===e.nodeName.toUpperCase()?xt(e):null}function Nt(e,t,n,r){return function(o){var i,a,c=o.target;if(c){var u=c.nodeName&&"INPUT"===c.nodeName.toUpperCase()?c.type:null,s="checkbox"!==c.type||c.checked?t.fieldTransform(c.value,c,c):null;("change_form"===n||"checkbox"!==u&&"radio"!==u)&&e.core.track(function(e){var t="",n=e.schema,r=e.formId,o=e.elementId,i=e.nodeName,a=e.elementClasses,c=e.value,u=e.type,s={formId:r,elementId:o,nodeName:i,elementClasses:a,value:c};return"change_form"===n?(t="iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",s.type=u):"focus_form"===n&&(t="iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0",s.elementType=u),Q({event:{schema:t,data:Z(s,{value:!0})}})}({schema:n,formId:null!==(i=Pt(c))&&void 0!==i?i:"",elementId:null!==(a=xt(c))&&void 0!==a?a:"",nodeName:c.nodeName,type:u,elementClasses:Ce(c),value:null!=s?s:null}),D(r,c,u,s))}}}var Lt={};
/*!
   * Link Click tracking for Snowplow v3.24.3 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */
var Rt={},_t={};function Ut(e,t,n){for(var r,o,i,a,c,u;null!==(r=t.parentElement)&&null!=r&&"A"!==(o=t.tagName.toUpperCase())&&"AREA"!==o;)t=r;var s,l=t;if(null!=l.href){var d=l.hostname||ge(l.href),f=d.toLowerCase(),v=l.href.replace(d,f);new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript):","i").test(v)||(i=l.id,a=Ce(l),c=l.target,u=_t[e.id].linkTrackingContent?l.innerHTML:void 0,v=unescape(v),e.core.track(Q({event:{schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:Z({targetUrl:(s={targetUrl:v,elementId:i,elementClasses:a,elementTarget:c,elementContent:u}).targetUrl,elementId:s.elementId,elementClasses:s.elementClasses,elementTarget:s.elementTarget,elementContent:s.elementContent})}}),D(n,t)))}}function Dt(e,t){return function(n){var r,o;r=(n=n||window.event).which||n.button,o=n.target||n.srcElement,"click"===n.type?o&&Ut(Rt[e],o,t):"mousedown"===n.type?1!==r&&2!==r||!o?_t[e].lastButton=_t[e].lastTarget=null:(_t[e].lastButton=r,_t[e].lastTarget=o):"mouseup"===n.type&&(r===_t[e].lastButton&&o===_t[e].lastTarget&&Ut(Rt[e],o,t),_t[e].lastButton=_t[e].lastTarget=null)}}function jt(e,t){var n=void 0===e?{}:e,r=n.options,o=n.pseudoClicks,i=n.trackContent,a=n.context;_t[t]={linkTrackingContent:i,linkTrackingContext:a,linkTrackingPseudoClicks:o,linkTrackingFilter:Se(r)}}function Mt(e){var t,n,r,o,i,a=document.links;for(r=0;r<a.length;r++)(null===(n=(t=_t[e]).linkTrackingFilter)||void 0===n?void 0:n.call(t,a[r]))&&!a[r][e]&&(o=e,i=a[r],_t[o].linkTrackingPseudoClicks?(we(i,"mouseup",Dt(o,_t[o].linkTrackingContext),!1),we(i,"mousedown",Dt(o,_t[o].linkTrackingContext),!1)):we(i,"click",Dt(o,_t[o].linkTrackingContext),!1),a[r][e]=!0)}
/*!
   * Button Click tracking for Snowplow v3.24.3 (https://github.com/snowplow/snowplow-javascript-tracker)
   * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
   * Licensed under BSD-3-Clause
   */function Ht(e){var t={};return"INPUT"===e.tagName?t.label=e.dataset.spButtonLabel||e.value:t.label=e.dataset.spButtonLabel||e.innerText,e.id&&(t.id=e.id),e.name&&(t.name=e.name),e.classList.length&&(t.classes=Array.from(e.classList)),t}var Bt={},Ft={};function Gt(e,t){void 0===t&&(t=Object.keys(Bt)),st(t,Bt,(function(t){t.core.track(function(e){return Q({event:{schema:"iglu:com.snowplowanalytics.snowplow/button_click/jsonschema/1-0-0",data:Z({label:e.label,id:e.id,classes:e.classes,name:e.name})}})}(e),e.context,e.timestamp)}))}function Vt(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Bt)),function(){for(var e in Bt)Ft[e]&&document.removeEventListener("click",Ft[e])}(),t.forEach((function(t){var n,r;Ft[t]=function(n){!function(e,t,n,r){var o=e.target;for(;o;){if(o instanceof HTMLButtonElement||o instanceof HTMLInputElement&&"button"===o.type){if(n(o)){var i=Ht(o);i.context=D(r,i),Gt(i,[t])}return}o=o.parentElement}}
/*!
   * Audio/Video tracking for Snowplow v3.24.3 (http://bit.ly/sp-js)
   * Copyright 2022 Snowplow Analytics Ltd
   * Licensed under BSD-3-Clause
   */(n,t,function(e){if("function"==typeof e)return e;if("object"==typeof e){if("allowlist"in e)return function(t){return Array.from((null==t?void 0:t.classList)||[]).some((function(t){return e.allowlist.includes(t)}))};if("denylist"in e)return function(t){return!Array.from((null==t?void 0:t.classList)||[]).some((function(t){return e.denylist.includes(t)}))}}return function(){return!0}}(e.filter),e.context)};var o=function(){document.addEventListener("click",Ft[t])};(null===(n=Bt[t])||void 0===n?void 0:n.sharedState.hasLoaded)?o():null===(r=Bt[t])||void 0===r||r.sharedState.registeredOnLoadHandlers.push(o)}))}var zt,$t={ABORT:"abort",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADEDMETADATA:"loadedmetadata",LOADSTART:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATECHANGE:"ratechange",RESIZE:"resize",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting"},Jt={CHANGE:"change"},Yt={FULLSCREENCHANGE:"fullscreenchange"},Xt={PERCENTPROGRESS:"percentprogress",READY:"ready"},Wt={0:"HAVE_NOTHING",1:"HAVE_METADATA",2:"HAVE_CURRENT_DATA",3:"HAVE_FUTURE_DATA",4:"HAVE_ENOUGH_DATA"},qt={0:"NETWORK_EMPTY",1:"NETWORK_IDLE",2:"NETWORK_LOADING",3:"NETWORK_NO_SOURCE"},Kt={VIDEO:"VIDEO",AUDIO:"AUDIO"},Qt={NOT_FOUND:"Media element not found",MULTIPLE_ELEMENTS:"More than one media element in the provided node",PLYR_CURRENTSRC:"Plyr currentSrc not updated"},Zt=((zt={})[Jt.CHANGE]="texttrackchange",zt);Object.keys(Zt).forEach((function(e){return Zt[Zt[e]]=e}));var en,tn=function(e){return Object.keys(e).map((function(t){return e[t]}))},nn=t(t(t(t(t([],tn($t),!0),tn(Xt),!0),tn({ENTERPICTUREINPICTURE:"enterpictureinpicture",LEAVEPICTUREINPICTURE:"leavepictureinpicture"}),!0),tn(Jt),!0),tn(Yt),!0),rn=[Xt.READY,$t.PAUSE,$t.PLAY,$t.SEEKED,$t.RATECHANGE,$t.VOLUMECHANGE,$t.ENDED,Yt.FULLSCREENCHANGE,Xt.PERCENTPROGRESS],on={AllEvents:nn,DefaultEvents:rn};function an(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function cn(e,t){return-1!==Object.keys(t).map((function(e){return t[e]})).indexOf(e)}function un(e){var t;return(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id)===e||!1}function sn(e){var t=/.+\.([^\.?&#]+)/,n=e;try{n=new URL(e).pathname}catch(e){}var r=t.exec(n)||t.exec(e);return r&&r[1]}function ln(e){var t=e.duration;return isNaN(t)||t===1/0?null:t}function dn(e){var t=document.getElementById(e);return t?fn(t)?{el:t}:vn(t)?"https://cdn.plyr.io/static/blank.mp4"===t.currentSrc&&0===t.readyState?{err:Qt.PLYR_CURRENTSRC}:{el:t}:function(e){for(var t=0,n=Object.keys(Kt);t<n.length;t++){var r=n[t],o=e.getElementsByTagName(r);if(1===o.length){if(fn(o[0]))return{el:o[0]};if(vn(o[0]))return{el:o[0]}}else{if(2===o.length&&"VIDEO"===r&&vn(o[0]))return{el:o[0]};if(o.length>1)return{err:Qt.MULTIPLE_ELEMENTS}}}return{err:Qt.NOT_FOUND}}(t):{err:Qt.NOT_FOUND}}function fn(e){return e.tagName===Kt.AUDIO}function vn(e){return e.tagName===Kt.VIDEO}function mn(e,t){var n={currentTime:e.currentTime||0,duration:ln(e),ended:e.ended,loop:e.loop,muted:e.muted,paused:e.paused,playbackRate:e.playbackRate,volume:parseInt(String(100*e.volume))};return(null==t?void 0:t.boundary)&&(n.percentProgress=t.boundary),{schema:"iglu:com.snowplowanalytics.snowplow/media_player/jsonschema/1-0-0",data:n}}function pn(e,t){var n,r,o,i,a,c={htmlId:e.id||t.id,mediaType:e.tagName,autoPlay:e.autoplay,buffered:an(e.buffered),controls:e.controls,currentSrc:e.currentSrc,defaultMuted:e.defaultMuted||!1,defaultPlaybackRate:e.defaultPlaybackRate,error:e.error?{code:null===(n=e.error)||void 0===n?void 0:n.code,message:null===(r=e.error)||void 0===r?void 0:r.message}:null,networkState:qt[e.networkState],preload:e.preload,readyState:Wt[e.readyState],seekable:an(e.seekable),seeking:e.seeking,src:(a=e.src||e.currentSrc,-1!==a.indexOf("data:")?"DATA_URL":a),textTracks:(i=e.textTracks,Object.keys(i).map((function(e,t){return{label:i[t].label,language:i[t].language,kind:i[t].kind,mode:i[t].mode}}))),fileExtension:sn(e.currentSrc),fullscreen:un(e.id),pictureInPicture:(null===(o=document.pictureInPictureElement)||void 0===o?void 0:o.id)===e.id};return e.disableRemotePlayback&&(c.disableRemotePlayback=e.disableRemotePlayback),e.crossOrigin&&(c.crossOrigin=e.crossOrigin),{schema:"iglu:org.whatwg/media_element/jsonschema/1-0-0",data:c}}var gn={};var hn,yn={},wn="";function bn(t){var n,r=function(t,n){var r={id:t,captureEvents:rn,progress:{boundaries:[10,25,50,75],boundaryTimeoutIds:[]},volume:{trackingInterval:250}};if(!n)return r;if(null==n?void 0:n.captureEvents){var o=[];n.captureEvents.forEach((function(e){on.hasOwnProperty(e)?o=o.concat(on[e]):Object.keys(nn).filter((function(t){return t===e}))?o.push(e in Zt?Zt[e]:e):console.warn("'".concat(e,"' is not a valid event."))})),n.captureEvents=o,-1!==n.captureEvents.indexOf(Xt.PERCENTPROGRESS)&&(r.progress={boundaries:(null==n?void 0:n.boundaries)||r.progress.boundaries,boundaryTimeoutIds:[]}),-1!==n.captureEvents.indexOf($t.VOLUMECHANGE)&&(r.volume={trackingInterval:(null==n?void 0:n.volumeChangeTrackingInterval)||r.volume.trackingInterval})}return e(e({},r),n)}(t.id,t.options),o=((n={})[Yt.FULLSCREENCHANGE]=function(e,t,n){var r,o;(document.fullscreenElement||document.msFullscreenElement)&&(wn=(null===(r=document.fullscreenElement)||void 0===r?void 0:r.id)||(null===(o=document.msFullscreenElement)||void 0===o?void 0:o.id)),wn===t.id&&Tn(e,t,n)},n[$t.SEEKED]=function(e,t,n){if(0!==n.captureEvents.indexOf(Xt.PERCENTPROGRESS)){for(;n.progress.boundaryTimeoutIds.length;)clearTimeout(n.progress.boundaryTimeoutIds.pop());Tn(e,t,n),Sn(t,n)}},n),i={};r.captureEvents.forEach((function(e){o.hasOwnProperty(e)?i[e]=function(t,n,r,i){return o[e](t,n,r,i)}:i[e]=function(e,t,n){return Tn(e,t,n)}})),yn[t.id]={waitTime:250,retryCount:5,tracking:!1},En(t.id,r,i)}function En(e,t,n){var r=dn(e);if(yn[e].retryCount){if(!r.el)return yn[e].retryCount--,yn[e].timeoutId=setTimeout((function(){return En(e,t,n)}),yn[e].waitTime),void(yn[e].waitTime*=2);var o;clearTimeout(yn[e].timeoutId),yn[e].tracking||(0!==t.captureEvents.indexOf(Xt.PERCENTPROGRESS)&&((o=t.progress.boundaries).some((function(e){return e<1||100<e}))&&(o=o.filter((function(e){return 0<e&&e<100}))),o.some((function(e,t,n){return n.filter((function(t){return t==e})).length>1}))&&(o=o.filter((function(e,t,n){return n.indexOf(e)==t}))),Sn(r.el,t)),function(e,t,n){-1!==t.captureEvents.indexOf(Xt.READY)&&Tn(Xt.READY,e,t);t.captureEvents.forEach((function(r){cn(r,Jt)?e.textTracks.hasOwnProperty("addEventListener")&&e.textTracks.addEventListener(r,(function(){return n[r](r,e,t)})):cn(r,Yt)?["MSFullscreenChange","fullscreenchange"].forEach((function(o){document.addEventListener(o,(function(){return n[r](r,e,t)}))})):e.addEventListener(r,(function(){return n[r](r,e,t)}))}))}(r.el,t,n),yn[e].tracking=!0)}else en.error(r.err||Qt.NOT_FOUND)}function Tn(e,t,n,r){var o=function(e,t,n,r){var o=[pn(t,n),mn(t,r)];t instanceof HTMLVideoElement&&o.push(function(e){var t={poster:e.poster,videoHeight:e.videoHeight,videoWidth:e.videoWidth};return e.autoPictureInPicture&&(t.autoPictureInPicture=e.autoPictureInPicture),e.disablePictureInPicture&&(t.disablePictureInPicture=e.disablePictureInPicture),{schema:"iglu:org.whatwg/video_element/jsonschema/1-0-0",data:t}}(t));var i={type:e in Zt?Zt[e]:e};return n.label&&(i.label=n.label),{schema:"iglu:com.snowplowanalytics.snowplow/media_player_event/jsonschema/1-0-0",data:i,context:o}}(e,t,n,r);-1!==n.captureEvents.indexOf(Xt.PERCENTPROGRESS)&&function(e,t,n){if(e===$t.PAUSE)for(;n.progress.boundaryTimeoutIds.length;)clearTimeout(n.progress.boundaryTimeoutIds.pop());e===$t.PLAY&&t.readyState>0&&Sn(t,n)}(e,t,n),e===$t.VOLUMECHANGE?(clearTimeout(n.volume.eventTimeoutId),n.volume.eventTimeoutId=setTimeout((function(){return kn(o)}),n.volume.trackingInterval)):kn(o)}function kn(e,t){void 0===t&&(t=Object.keys(gn)),st(t,gn,(function(t){t.core.track(Q({event:e}),e.context,e.timestamp)}))}function Sn(e,t){t.progress.boundaries.forEach((function(n){var r=e.duration*(n/100)*1e3,o=r-1e3*e.currentTime;0<o&&t.progress.boundaryTimeoutIds.push(setTimeout((function(){return On(e,r,n,t)}),o))}))}function On(e,t,n,r){1e3*e.currentTime<t?setTimeout((function(){On(e,t,n,r)}),10):Tn(Xt.PERCENTPROGRESS,e,r,{boundary:n})}const Cn=null!==(hn="events.polarbyte.com")?hn:"events.dev.polarbyte.com";var In,An,xn;!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(In||(In={})),function(e){e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM_RIGHT_BETA="BOTTOM_RIGHT_BETA",e.BOTTOM_LEFT="BOTTOM_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.TOP_LEFT="TOP_LEFT",e.CENTERED="CENTERED",e.INLINE="INLINE"}(An||(An={})),function(e){e.POPUP="POPUP",e.INLINE="INLINE",e.LINK="LINK"}(xn||(xn={}));const Pn=function(e){const t=document.cookie.split(";");for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.startsWith(e+"="))return r.substring(e.length+1)}return null},Nn=function(e,t){return!!e&&(t?!t():!function(){const e=Pn("OptanonConsent");if(null!==e){const t=decodeURIComponent(e).split("&");let n="";for(const e of t){const[t,r]=e.split("=");if("groups"===t){n=r;break}}const r=n.split(",");let o="";for(const e of r){const[t,n]=e.split(":");if("C0002"===t){o=n;break}}return console.log("Value of C0002:",o),1==+o}return console.log("Cookie not found"),null}())};function Ln(e,t){const n=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;if(t&&t>0&&t<=100){const e=n.height,o=n.top>=0?n.top>r?r:n.top:0;return((n.bottom<=r?n.bottom:r)-o)/e*100>=t}return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}const Rn=()=>{const e=window.polarbyteConfig;if(e&&e.pageContext)return{schema:"iglu:com.polarbyte.snowplow/page/jsonschema/1-0-1",data:{locale:e.pageContext.locale,section:e.pageContext.section,subsection:e.pageContext.subsection,type:e.pageContext.type,scenario:e.pageContext.scenario}}},_n=()=>{const e=window.polarbyteConfig;if(e&&e.registeredUser)return{schema:"iglu:com.polarbyte.snowplow/registered_user/jsonschema/1-0-0",data:{user_id:e.registeredUser.userId,first_language:e.registeredUser.firstLanguage,country:e.registeredUser.country,activity:e.registeredUser.activity,age:e.registeredUser.age,gender:e.registeredUser.gender,level:e.registeredUser.level}}},Un=()=>{const e=window.polarbyteConfig,t=function(){var e;try{return(null===(e=window.iaw)||void 0===e?void 0:e.getPPID)?window.iaw.getPPID():Pn("iawppid")}catch(e){Et("Failed to retrieve ppid from IAW")}return null}();if(e&&t)return{schema:"iglu:com.polarbyte.snowplow/adUser/jsonschema/1-0-0",data:{ppid:t}}},Dn={},jn={};function Mn(e={},t=Object.keys(Dn)){!function(e=Object.keys(Dn)){for(const t in e)jn[t]&&document.removeEventListener("touchstart",jn[t],!0)}(),t.forEach((t=>{var n,r;jn[t]=n=>{!function(e,t,n,r){let o=e.composed?e.composedPath()[0]:e.target;for(;o;){if((o instanceof HTMLButtonElement||o instanceof HTMLInputElement&&"button"===o.type)&&n(o)){const e=Bn(o);e.context=D(r,e,o),Hn(e,[t])}o=o.parentElement}}(n,t,function(e){if("function"==typeof e)return e;if("object"==typeof e){if("allowlist"in e)return t=>Array.from((null==t?void 0:t.classList)||[]).some((t=>e.allowlist.includes(t)));if("denylist"in e)return t=>!Array.from((null==t?void 0:t.classList)||[]).some((t=>e.denylist.includes(t)))}return()=>!0}(e.filter),e.context)};const o=()=>{document.addEventListener("touchstart",jn[t],!0)};(null===(n=Dn[t])||void 0===n?void 0:n.sharedState.hasLoaded)?o():null===(r=Dn[t])||void 0===r||r.sharedState.registeredOnLoadHandlers.push(o)}))}function Hn(e,t=Object.keys(Dn)){st(t,Dn,(t=>{t.core.track(function(e){const{label:t,id:n,classes:r,name:o}=e,i={schema:"iglu:com.snowplowanalytics.snowplow/button_click/jsonschema/1-0-0",data:Z({label:t,id:n,classes:r,name:o})};return Q({event:i})}(e),e.context,e.timestamp)}))}function Bn(e){const t={};return"INPUT"===e.tagName?t.label=e.dataset.spButtonLabel||e.value:t.label=e.dataset.spButtonLabel||e.innerText,e.id&&(t.id=e.id),e.name&&(t.name=e.name),e.classList.length&&(t.classes=Array.from(e.classList)),t}let Fn=!1,Gn="withSession";const Vn=function(e){return"1"===function(e=100){let t=sessionStorage.getItem("sp_grp");return null!=t?(bt("Snowplow - randomSnowplowGroup from session:"+t),t):(t=Math.floor(101*Math.random())<=e?"1":"0",bt("Snowplow - randomSnowplowGroup from script:"+t),Tt(t),t)}(e)},zn=function(e){var t,n,r,o,i;const a=[];Gn=null!==(t=e.anonymousTrackingMode)&&void 0!==t?t:"withSession",e.isLinkTrackingEnabled&&a.push({activateBrowserPlugin:function(e){Rt[e.id]=e}}),(null===(n=e.isButtonTrackingEnabled)||void 0===n||n)&&(a.push({activateBrowserPlugin:function(e){Bt[e.id]=e}}),a.push({activateBrowserPlugin:e=>{Dn[e.id]=e}})),e.isFormTrackingEnabled&&a.push({activateBrowserPlugin:function(e){Lt[e.id]=e}}),(((null===(r=e.mediaTracking)||void 0===r?void 0:r.mediaHtmlElementIds)||[]).length>0||((null===(o=e.mediaTracking)||void 0===o?void 0:o.mediaHtmlElements)||[]).length>0)&&a.push({activateBrowserPlugin:function(e){gn[e.id]=e},logger:function(e){en=e}});const c={appId:e.appId,plugins:a,cookieDomain:e.cookieDomain,discoverRootDomain:null===(i=e.discoverRootDomain)||void 0===i||i};if(Nn(e.anonymousTrackingEnabled,e.userHasConsented))switch(Fn=!0,bt(`Polarbyte anonymous mode: ${Gn}`),Gn){case"full":c.anonymousTracking={withServerAnonymisation:!0},c.stateStorageStrategy="none";break;case"fullClient":c.anonymousTracking=!0,c.stateStorageStrategy="cookieAndLocalStorage";break;default:c.stateStorageStrategy="cookieAndLocalStorage",c.anonymousTracking={withSessionTracking:!0}}else Fn=!1;var u,s;yt("pb-"+e.appId,Cn,c),$n(e.customURL),Jn(e.referrerURL),pt([Rn,Un,_n]),e.registeredUser&&(u=e.registeredUser.userId,ut(s,(function(e){e.setUserId(u)}))),(e=>{try{window.addEventListener("OneTrustGroupsUpdated",(()=>{var t;bt(`New consent active groups: ${null!==(t=window.OnetrustActiveGroups)&&void 0!==t?t:""}`),e(window.OnetrustActiveGroups)}))}catch(e){Et("Could not add OneTrustGroupsUpdated event listener",e)}})(Yn)},$n=e=>{let t;e&&("string"==typeof e?t=e:"function"==typeof e?t=e():Et(`Invalid custom URL type: ${typeof e}; must a string or a function returning a string.`)),t&&(bt(`Setting custom URL: ${t}`),function(e,t){ut(t,(function(t){t.setCustomUrl(e)}))}(t))},Jn=e=>{let t;e&&("string"==typeof e?t=e:"function"==typeof e?t=e():Et(`Invalid referrer URL type: ${typeof e}; must a string or a function returning a string.`)),t&&(bt(`Setting referrer URL: ${t}`),function(e,t){ut(t,(function(t){t.setReferrerUrl(e)}))}(t))},Yn=e=>{if(bt(`onConsentChangeCallback activeGroups: ${null!=e?e:""}`),e&&e.includes("C0002"))Fn?(bt("Disabling anonymous tracking."),Fn=!1,t={stateStorageStrategy:"cookieAndLocalStorage"},ut(n,(function(e){e.disableAnonymousTracking(t)}))):bt("Anonymous tracking already disabled.");else if(!Fn)switch(Fn=!0,bt(`Enabling anonymous tracking: ${Gn}`),Gn){case"full":gt({stateStorageStrategy:"none",options:{withServerAnonymisation:!0}});break;case"fullClient":gt({stateStorageStrategy:"cookieAndLocalStorage"});break;default:gt({stateStorageStrategy:"cookieAndLocalStorage",options:{withSessionTracking:!0}})}var t,n},Xn=function(e){var t,n;if(bt("polarbyte start tracking page view"),e.trackActivity&&(bt("polarbyte start tracking activity"),t={minimumVisitLength:10,heartbeatDelay:30},ut(n,(function(e){e.enableActivityTracking(t)}))),ft(),function(e){ut(e,(function(e){e.updatePageActivity()}))}(),e.isLinkTrackingEnabled&&(bt("polarbyte start tracking link clicks"),function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Rt)),t.forEach((function(t){Rt[t]&&(Rt[t].sharedState.hasLoaded?(jt(e,t),Mt(t)):Rt[t].sharedState.registeredOnLoadHandlers.push((function(){jt(e,t),Mt(t)})))}))}()),e.isButtonTrackingEnabled){bt("polarbyte start tracking button clicks"),Vt();Mn(e.buttonTapTrackingConfig?e.buttonTapTrackingConfig:{filter:{allowlist:["vjs-big-play-button","vjs-button","vjs-menu-button"]}})}e.isFormTrackingEnabled&&(bt("polarbyte start tracking form"),function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Lt)),t.forEach((function(t){Lt[t]&&(Lt[t].sharedState.hasLoaded?It(Lt[t],e):Lt[t].sharedState.registeredOnLoadHandlers.push((function(){It(Lt[t],e)})))}))}({options:{events:[In.SUBMIT_FORM]}})),Qn(e)},Wn=(e,t)=>{if(t)for(const n of t){if(e.matches(n.cssSelector))return{matchedElement:e,selector:n};{const t=e.querySelector(n.cssSelector);if(t)return{matchedElement:t,selector:n}}}},qn=(e,t,n)=>{if(!e.hasAttribute("data-pb-media-tracked")){if(e.setAttribute("data-pb-media-tracked","true"),""===e.id){const t=window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():String(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"");bt(`Polarbyte - Setting id '${t}' on matched media element without an id`),e.id=t}const r=((e,t)=>{var n;try{if(t.titleXpath){const n=document.evaluate(t.titleXpath,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);let r=n.iterateNext();for(;r;){if(r.nodeType===Node.ELEMENT_NODE)return r.textContent;if(r.nodeType===Node.TEXT_NODE)return r.nodeValue;if(r.nodeType===Node.ATTRIBUTE_NODE)return r.value;r=n.iterateNext()}}return}catch(e){Et(`Failed to retrieve media title using XPATH ${null!==(n=t.titleXpath)&&void 0!==n?n:""}`,e)}})(e,t),o=void 0===r?n:{...n,label:r},i=setInterval((()=>{""!==e.currentSrc&&(clearInterval(i),bt(`Polarbyte - Start tracking media element ${e.id}, title: ${null!=r?r:"N/A"}`),bn({id:e.id,options:o}))}),500)}};let Kn;const Qn=e=>{var t,n,r,o;const i={captureEvents:["DefaultEvents","error"],boundaries:[10,25,50,75]};null===(n=null===(t=e.mediaTracking)||void 0===t?void 0:t.mediaHtmlElementIds)||void 0===n||n.forEach((e=>{const t=document.getElementById(e);t?(bt(`Polarbyte - Start tracking existing media with id ${e}.`),t.setAttribute("data-pb-media-tracked","true"),bn({id:e,options:i})):bt(`Polarbyte - Skipping tracking media with id ${e} as no element could be found.`)}));const a=null!==(o=null===(r=e.mediaTracking)||void 0===r?void 0:r.mediaHtmlElements)&&void 0!==o?o:[];if(a.length>0)if(Kn)bt("Polarbyte - DOM media tracking already configured");else{for(const e of a){document.querySelectorAll(e.cssSelector).forEach((t=>{t&&qn(t,e,i)}))}bt("Polarbyte - Start tracking for DOM changes for media tracking elements");const t=[],n=()=>{((e,t,n)=>{for(const r of e)for(let e=0;e<r.addedNodes.length;e++){const o=r.addedNodes.item(e);if(o.nodeType===Node.ELEMENT_NODE){const e=Wn(o,t.mediaTracking.mediaHtmlElements);if(e&&e.matchedElement){const t=e.matchedElement;qn(t,e.selector,n)}}}})(t,e,i),t.length=0};Kn=new MutationObserver((e=>{t.length||requestIdleCallback(n),t.push(...e)})),Kn.observe(document.body,{childList:!0,subtree:!0})}else bt("Polarbyte - Skipping dynamic media elements tracking")},Zn="iglu:com.polarbyte.snowplow/product/jsonschema/1-0-0",er="iglu:com.polarbyte.snowplow/content_unit_view/jsonschema/1-0-0",tr="iglu:com.polarbyte.snowplow/content_unit_ping/jsonschema/1-0-0",nr="iglu:com.polarbyte.snowplow/content_unit_click/jsonschema/1-0-0",rr=function(e){zn(e),pt([ir,or])},or=e=>{const t=window.polarbyteConfig;if(t&&t.productContext){const n={schema:Zn,data:{id:t.productContext.id,type:t.productContext.type}},r=[nr,tr,er];return"ue"!==e.eventType&&"se"!=e.eventType||!r.includes(e.eventSchema)?n:void 0}},ir=()=>{const e=window.polarbyteConfig;return e&&e.entryContext?{schema:"iglu:com.polarbyte.snowplow/entry/jsonschema/1-0-2",data:{name:e.entryContext.name,pos:e.entryContext.pos,datasets:e.entryContext.datasets,levels:e.entryContext.levels,entry_id:e.entryContext.entry_id,domain:e.entryContext.domain,region:e.entryContext.region,usage:e.entryContext.usage,language:e.entryContext.language}}:void 0};function ar(e,t){let n;try{const r=document.evaluate(e,t,null,XPathResult.STRING_TYPE);r&&r.stringValue&&(n=r.stringValue)}catch(t){Et(`Failed to retrieve value from XPath ${e}`,t)}return n}function cr(e,t){let n;if(e.productContext&&e.productContext.idSelector){const r=ar(e.productContext.idSelector,t),o=ar(e.productContext.typeSelector,t);(r||o)&&(n={id:r,type:o})}return n}function ur(e,t){const n={};return e.unit&&(e.unit.idSelector&&(n.id=ar(e.unit.idSelector,t)),e.unit.titleSelector&&(n.title=ar(e.unit.titleSelector,t)),e.unit.urlSelector&&(n.url=ar(e.unit.urlSelector,t))),n}function sr(e,t,n){var r,o;if(Ln(t,e.view.threshold)){const i=ur(e,t),a=cr(e,t);bt(`PING: Content unit first ping ${JSON.stringify(i)}, productContext: ${yr(a)?JSON.stringify(a):"N/A"}, after ${1e3*(null!==(o=null===(r=e.ping)||void 0===r?void 0:r.minimumVisitLength)&&void 0!==o?o:0)} seconds`),br(i,a),n.has(t)&&n.get(t).intervalHandler&&clearInterval(n.get(t).intervalHandler);const c=n.has(t)?n.get(t).clickHandlers:new Map;n.set(t,{visibility:!0,clickHandlers:c,intervalHandler:setInterval((()=>{!function(e,t){var n,r;const o=ur(e,t),i=cr(e,t);bt(`PING: Content unit ping ${JSON.stringify(o)}, productContext: ${yr(i)?JSON.stringify(i):"N/A"}, after ${1e3*(null!==(r=null===(n=e.ping)||void 0===n?void 0:n.heartbeatDelay)&&void 0!==r?r:0)} seconds.`),Er(o,i)}(e,t)}),1e3*e.ping.heartbeatDelay)})}}function lr(e,t,n){var r,o,i;null!==(o=null===(r=e.view)||void 0===r?void 0:r.delay)&&void 0!==o&&o&&setTimeout((()=>{Ln(t,e.view.threshold)&&(wr(ur(e,t),cr(e,t)),dr(e,t,n))}),1e3*(null!==(i=e.view.delay)&&void 0!==i?i:0))}function dr(e,t,n){e.ping&&(e.ping.minimumVisitLength?setTimeout((()=>{sr(e,t,n)}),1e3*e.ping.minimumVisitLength):sr(e,t,n))}function fr(e,t,n,r){Tr(ur(e,t),cr(e,t),r.arguments)}function vr(e,t,n){const r=n.has(t)?n.get(t).clickHandlers:new Map;if(e.contentTileClick)for(const n of e.contentTileClick){const o=mr(n.selector,t);o&&o.forEach((o=>{const i=o;if(!r.has(i)){const o=()=>{fr(e,t,0,n)};i.addEventListener("click",o),r.set(i,o)}}))}return r}function mr(e,t){const n=[];if(e.startsWith("XPATH:")){const r=e.substring(6).trim(),o=document.evaluate(r,t,null,XPathResult.UNORDERED_NODE_ITERATOR_TYPE);if(o){let e=o.iterateNext();for(;e;)e.nodeType===Node.ELEMENT_NODE&&(n.push(e),e=o.iterateNext())}}else{t.querySelectorAll(e).forEach((e=>{n.push(e)}))}return n}const pr=e=>{bt("Adding content unit events");const t=function(e){const t=new Map;return function(){for(const n of e.elementsToTrack)mr(n,document).forEach((n=>{const r=Ln(n,e.view.threshold);if(!t.has(n)||t.get(n).visibility!==r){const o={visibility:r,intervalHandler:void 0,clickHandlers:new Map};t.has(n)&&t.get(n).intervalHandler&&clearInterval(t.get(n).intervalHandler);const i=vr(e,n,t);r||(i.forEach(((e,t)=>{t.removeEventListener("click",e)})),i.clear()),o.clickHandlers=i,t.set(n,o),r&&(e.view.delay&&e.view.delay>0?lr(e,n,t):(wr(ur(e,n),cr(e,n)),dr(e,n,t)))}}))}}(e);window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1),window.addEventListener("scroll",t,!1),window.addEventListener("resize",t,!1)},gr=e=>{mt({event:{schema:"iglu:com.polarbyte.snowplow/translator_click/jsonschema/1-0-0",data:{language_from:e.languageFrom,language_to:e.languageTo,text:e.text}}})},hr=e=>{mt({event:{schema:"iglu:com.polarbyte.snowplow/search_click/jsonschema/1-0-0",data:{dataset:e.dataset,dataset_type:e.datasetType,text:e.text}}})};function yr(e){return e&&e.id&&e.type}const wr=(e,t)=>{bt(`Element ${JSON.stringify(null!=e?e:{})}, productContext: ${yr(t)?JSON.stringify(t):"N/A"} visible`);const n={id:null==e?void 0:e.id,title:null==e?void 0:e.title,url:null==e?void 0:e.url};mt({event:{schema:er,data:n},context:yr(t)?[{schema:Zn,data:t}]:void 0})},br=(e,t)=>{Er(e,t)},Er=(e,t)=>{const n={id:null==e?void 0:e.id,title:null==e?void 0:e.title,url:null==e?void 0:e.url};mt({event:{schema:tr,data:n},context:yr(t)?[{schema:Zn,data:t}]:void 0})},Tr=(e,t,n)=>{const r={id:null==e?void 0:e.id,title:null==e?void 0:e.title,url:null==e?void 0:e.url,action:n.action,details:n.details};bt(`Content Unit click ${JSON.stringify(null!=e?e:{})}, productContext: ${yr(t)?JSON.stringify(t):"N/A"}: ${JSON.stringify(n)}`),mt({event:{schema:nr,data:r},context:yr(t)?[{schema:Zn,data:t}]:void 0})},kr="reach",Sr=window.polarbyteConfig,Or={appId:"not_set",isLinkTrackingEnabled:!0,isButtonTrackingEnabled:!0,isFormTrackingEnabled:!0,samplingPercentage:100,trackActivity:!0,anonymousTrackingEnabled:!0},Cr=()=>function(e){var t;return window.polarbyte&&null!==(t=window.polarbyte[e])&&void 0!==t?t:""}(kr),Ir=(e=>!!(null==e?void 0:e.appId))(Sr),Ar=Yn;var xr;return Ir?((e=>{bt("PolarbyteReachInit"),Vn(e.samplingPercentage)&&(bt(e),rr(e),Xn(e))})({...Or,...Sr}),Sr.translatorEvent&&gr(Sr.translatorEvent),Sr.searchMetadata&&(xr=Sr.searchMetadata,window.onload=function(){const e=document.getElementById(xr.searchFormId);e&&e.addEventListener("submit",(function(){var t;const n=e.querySelector("#"+xr.searchFieldId);if(n){const e=null===(t=n.value)||void 0===t?void 0:t.trim();""!==e&&hr({dataset:xr.dataset,datasetType:xr.datasetType,text:e})}}))}),Sr.contentUnitTrackingConfig&&pr(Sr.contentUnitTrackingConfig)):bt(`Invalid polarbyte config ${Sr}`),Sr&&Sr.onLoad&&Sr.onLoad(kr,Cr()),{name:kr,getVersion:Cr,onConsentChange:Ar,retriggerPageView:(e,t,n,r)=>{e&&$n(e),t&&Jn(t);ft({title:n,context:r})},setCustomUrl:$n,setReferrerUrl:Jn,trackPublisherCustomEvent:e=>{vt(e)},triggerGameStart:e=>{mt({event:{schema:"iglu:com.polarbyte.snowplow/game_start/jsonschema/1-0-0",data:"string"==typeof e?{name:e}:e}})},triggerGameEnd:e=>{mt({event:{schema:"iglu:com.polarbyte.snowplow/game_end/jsonschema/1-0-0",data:"string"==typeof e?{name:e}:e}})},triggerSearchClick:hr,triggerTranslatorClick:gr}}();
